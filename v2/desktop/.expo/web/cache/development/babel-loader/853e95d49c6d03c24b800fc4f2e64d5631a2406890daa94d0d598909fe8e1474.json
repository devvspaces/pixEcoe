{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nimport React, { useState, useEffect, useRef } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StatusBar from \"react-native-web/dist/exports/StatusBar\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\nimport { useNavigation, useRoute } from \"@react-navigation/native\";\nimport QuestionList from \"../../components/QuestionList\";\nimport { useTranslation } from \"react-i18next\";\nimport { COLORS } from \"../../constants/theme\";\nimport Ionicons from \"@expo/vector-icons/Ionicons\";\nimport FontAwesome from \"@expo/vector-icons/FontAwesome\";\nimport { showError, showSuccess } from \"../../utils/helperFunction\";\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nvar EvaluationProcess = function EvaluationProcess() {\n  var navigation = useNavigation();\n  var route = useRoute();\n  var _useTranslation = useTranslation(),\n    t = _useTranslation.t;\n  var _route$params = route.params,\n    students = _route$params.students,\n    studentDi = _route$params.studentDi;\n  var studentId = students.map(function (student) {\n    return student.id;\n  });\n  var studentIds = students.map(function (student) {\n    return student.group;\n  });\n  var studentfamilyname = students.map(function (student) {\n    return student.family_name;\n  });\n  var studentfirstname = students.map(function (student) {\n    return student.first_name;\n  });\n  var _useState = useState(students.findIndex(function (student) {\n      return student.id === studentDi;\n    })),\n    _useState2 = _slicedToArray(_useState, 2),\n    currentStudentIndex = _useState2[0],\n    setCurrentStudentIndex = _useState2[1];\n  var _useState3 = useState(true),\n    _useState4 = _slicedToArray(_useState3, 2),\n    loading = _useState4[0],\n    setLoading = _useState4[1];\n  var _useState5 = useState({\n      data: {\n        detail: {}\n      }\n    }),\n    _useState6 = _slicedToArray(_useState5, 2),\n    evaluations = _useState6[0],\n    setEvaluations = _useState6[1];\n  var _useState7 = useState(false),\n    _useState8 = _slicedToArray(_useState7, 2),\n    loadingc = _useState8[0],\n    setLoadingc = _useState8[1];\n  var _useState9 = useState(false),\n    _useState10 = _slicedToArray(_useState9, 2),\n    loadingd = _useState10[0],\n    setLoadingd = _useState10[1];\n  var _useState11 = useState({}),\n    _useState12 = _slicedToArray(_useState11, 2),\n    selectedAnswers = _useState12[0],\n    setSelectedAnswers = _useState12[1];\n  var _useState13 = useState(false),\n    _useState14 = _slicedToArray(_useState13, 2),\n    showMarkStatus = _useState14[0],\n    setShowMarkStatus = _useState14[1];\n  var _useState15 = useState(false),\n    _useState16 = _slicedToArray(_useState15, 2),\n    showCompetitorsStatus = _useState16[0],\n    setShowCompetitorsStatus = _useState16[1];\n  useEffect(function () {\n    loadDownloadedEvaluationData();\n    loadStatus();\n    loadSelectedAnswers();\n  }, [currentStudentIndex]);\n  useEffect(function () {\n    saveEvaluation();\n    saveTotalScore();\n  }, [selectedAnswers]);\n  var loadSelectedAnswers = function () {\n    var _ref = _asyncToGenerator(function* () {\n      try {\n        var currentStudent = studentId[currentStudentIndex];\n        var evaluationResults = yield AsyncStorage.getItem(\"evaluationResults\");\n        evaluationResults = evaluationResults ? JSON.parse(evaluationResults) : {};\n        var currentStudentAnswers = evaluationResults[currentStudent] || [];\n        setSelectedAnswers(currentStudentAnswers.reduce(function (acc, answer, index) {\n          acc[index + 1] = answer;\n          return acc;\n        }, {}));\n      } catch (error) {\n        console.error(\"Error loading selected answers:\", error);\n      }\n    });\n    return function loadSelectedAnswers() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n  var loadDownloadedEvaluationData = function () {\n    var _ref2 = _asyncToGenerator(function* () {\n      try {\n        var downloadedData = yield AsyncStorage.getItem(\"downloadedEvaluationData\");\n        if (downloadedData) {\n          var parsedData = JSON.parse(downloadedData);\n          setEvaluations(parsedData);\n        }\n        setLoading(false);\n      } catch (error) {\n        console.error(\"Error loading evaluation data:\", error);\n        setLoading(false);\n        showError(t(\"alert:alert20\"));\n      }\n    });\n    return function loadDownloadedEvaluationData() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  var getTotalPoints = function getTotalPoints() {\n    var totalPoints = 0;\n    for (var questionSection of sections) {\n      for (var question of questionSection.questions) {\n        var selectedAnswerId = selectedAnswers[question.questionnumber];\n        if (selectedAnswerId) {\n          var selectedAnswer = question.answers[selectedAnswerId];\n          if (selectedAnswer) {\n            totalPoints += selectedAnswer.points;\n          }\n        }\n      }\n    }\n    return totalPoints;\n  };\n  var loadStatus = function () {\n    var _ref3 = _asyncToGenerator(function* () {\n      var showMarkData = yield AsyncStorage.getItem(\"showmark\");\n      var showCompetitorsData = yield AsyncStorage.getItem(\"showcompetitors\");\n      if (showMarkData) {\n        setShowMarkStatus(JSON.parse(showMarkData).status);\n      }\n      if (showCompetitorsData) {\n        setShowCompetitorsStatus(JSON.parse(showCompetitorsData).status);\n      }\n    });\n    return function loadStatus() {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n  var detail = evaluations.data && evaluations.data.detail ? evaluations.data.detail : {};\n  var sections = [];\n  var section = null;\n  for (var key in detail) {\n    var obj = detail[key];\n    var comment = obj.comment;\n    if (comment) {\n      if (section) {\n        sections.push(section);\n      }\n      section = {\n        section: comment,\n        questions: []\n      };\n    } else if (obj.questionnumber) {\n      var question = {\n        questionnumber: obj.questionnumber,\n        answers: obj.answers || []\n      };\n      section.questions.push(question);\n    }\n  }\n  if (section) {\n    sections.push(section);\n  }\n  var handleAnswerSelection = function handleAnswerSelection(questionNumber, answerId) {\n    setSelectedAnswers(function (prevSelectedAnswers) {\n      var updatedSelectedAnswers = _objectSpread({}, prevSelectedAnswers);\n      if (updatedSelectedAnswers[questionNumber] === answerId) {\n        delete updatedSelectedAnswers[questionNumber];\n      } else {\n        updatedSelectedAnswers[questionNumber] = answerId;\n      }\n      return updatedSelectedAnswers;\n    });\n  };\n  var formatSelectedAnswers = function formatSelectedAnswers(selectedAnswers) {\n    var questionNumbers = Object.keys(selectedAnswers).map(Number).sort();\n    var formattedAnswers = questionNumbers.flatMap(function (questionNumber) {\n      return [selectedAnswers[questionNumber]];\n    });\n    return formattedAnswers;\n  };\n  var formattedAnswersArray = formatSelectedAnswers(selectedAnswers);\n  console.log(\"Formatted selected Answers:\", formattedAnswersArray);\n  var saveEvaluation = function () {\n    var _ref4 = _asyncToGenerator(function* () {\n      try {\n        var currentStudent = studentId[currentStudentIndex];\n        var totalQuestions = sections.reduce(function (count, section) {\n          return count + section.questions.length;\n        }, 0);\n        var formattedAnswers = Array.from({\n          length: totalQuestions\n        }, function (_, index) {\n          var questionNumber = index + 1;\n          return selectedAnswers[questionNumber] || \"\";\n        });\n        var evaluationResults = yield AsyncStorage.getItem(\"evaluationResults\");\n        evaluationResults = evaluationResults ? JSON.parse(evaluationResults) : {};\n        evaluationResults[currentStudent] = formattedAnswers;\n        yield AsyncStorage.setItem(\"evaluationResults\", JSON.stringify(evaluationResults));\n        console.log(\"Updated Evaluation Results:\", evaluationResults);\n      } catch (error) {\n        console.error(\"Error saving evaluation:\", error);\n        showError(t(\"alert:alert4\"));\n      }\n    });\n    return function saveEvaluation() {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n  var saveTotalScore = function () {\n    var _ref5 = _asyncToGenerator(function* () {\n      try {\n        var currentStudent = studentId[currentStudentIndex];\n        var totalScore = getTotalPoints();\n        var totalScores = yield AsyncStorage.getItem(\"totalScores\");\n        totalScores = totalScores ? JSON.parse(totalScores) : {};\n        totalScores[currentStudent] = totalScore;\n        yield AsyncStorage.setItem(\"totalScores\", JSON.stringify(totalScores));\n        console.log(\"Total Scores:\", totalScores);\n      } catch (error) {\n        console.error(\"Error saving total score:\", error);\n      }\n    });\n    return function saveTotalScore() {\n      return _ref5.apply(this, arguments);\n    };\n  }();\n  var handleNext = function handleNext() {\n    setLoadingc(true);\n    try {\n      setSelectedAnswers({});\n      setCurrentStudentIndex(function (prevIndex) {\n        return (prevIndex + 1) % studentId.length;\n      });\n      Alert.alert(\"Success\", \"Evaluation saved\");\n    } catch (error) {\n      console.error(\"Error saving evaluation:\", error);\n      showError(t(\"alert:alert4\"));\n    } finally {\n      setLoadingc(false);\n    }\n  };\n  var handlePrevious = function () {\n    var _ref6 = _asyncToGenerator(function* () {\n      setLoadingd(true);\n      try {\n        var prevIndex = (currentStudentIndex - 1 + studentId.length) % studentId.length;\n        setCurrentStudentIndex(prevIndex);\n        var prevStudent = studentId[prevIndex];\n        var evaluationResults = yield AsyncStorage.getItem(\"evaluationResults\");\n        evaluationResults = evaluationResults ? JSON.parse(evaluationResults) : {};\n        var prevStudentAnswers = evaluationResults[prevStudent] || [];\n        setSelectedAnswers(prevStudentAnswers.reduce(function (acc, answer, index) {\n          acc[index + 1] = answer;\n          return acc;\n        }, {}));\n        showSuccess(t(\"alert:alert23\"));\n      } catch (error) {\n        showError(t(\"alert:alert4\"));\n      } finally {\n        setLoadingd(false);\n      }\n    });\n    return function handlePrevious() {\n      return _ref6.apply(this, arguments);\n    };\n  }();\n  if (loading) {\n    return _jsxs(View, {\n      style: {\n        height: \"100%\",\n        backgroundColor: COLORS.mainBlue,\n        alignSelf: \"center\",\n        width: \"100%\",\n        justifyContent: \"center\",\n        alignItems: \"center\"\n      },\n      children: [_jsx(ActivityIndicator, {\n        size: \"large\",\n        color: \"#FFFFFF\"\n      }), _jsx(Text, {\n        style: styles.loaderText,\n        children: t(\"common:loading\")\n      })]\n    });\n  }\n  return _jsxs(View, {\n    style: {\n      flex: 1\n    },\n    children: [_jsxs(View, {\n      children: [_jsx(StatusBar, {\n        backgroundColor: COLORS.primary\n      }), _jsxs(View, {\n        style: [styles.headert],\n        children: [_jsxs(View, {\n          style: {\n            flexDirection: \"row\"\n          },\n          children: [_jsx(TouchableOpacity, {\n            onPress: function onPress() {\n              return navigation.goBack();\n            },\n            children: _jsx(Ionicons, {\n              name: \"arrow-back\",\n              size: 30,\n              color: COLORS.white\n            })\n          }), _jsx(Text, {\n            style: styles.titlet,\n            children: t(\"common:evaproce\")\n          })]\n        }), _jsxs(View, {\n          style: styles.buttonContainer,\n          children: [_jsx(TouchableOpacity, {\n            style: styles.button,\n            onPress: handlePrevious,\n            children: loadingd ? _jsx(ActivityIndicator, {\n              size: \"small\",\n              color: \"#fff\"\n            }) : _jsx(FontAwesome, {\n              name: \"arrow-left\",\n              size: 25,\n              color: \"#fff\"\n            })\n          }), _jsx(TouchableOpacity, {\n            style: styles.button,\n            onPress: handleNext,\n            children: loadingc ? _jsx(ActivityIndicator, {\n              size: \"small\",\n              color: \"#fff\"\n            }) : _jsx(FontAwesome, {\n              name: \"arrow-right\",\n              size: 25,\n              color: \"#fff\"\n            })\n          })]\n        })]\n      })]\n    }), _jsxs(ScrollView, {\n      showsVerticalScrollIndicator: false,\n      keyboardShouldPersistTaps: \"handled\",\n      contentContainerStyle: {\n        paddingLeft: 20,\n        paddingRight: 20,\n        flex: 1,\n        backgroundColor: COLORS.mainBlue\n      },\n      children: [_jsxs(View, {\n        style: {\n          justifyContent: \"space-between\",\n          borderRadius: 10,\n          backgroundColor: COLORS.AltBlue,\n          paddingLeft: 10,\n          paddingRight: 10,\n          marginTop: 10,\n          marginBottom: 5,\n          width: \"100%\",\n          height: 90,\n          paddingTop: 15,\n          paddingBottom: 15\n        },\n        children: [_jsx(Text, {\n          style: {\n            fontSize: 16,\n            fontWeight: \"500\"\n          },\n          children: evaluations.data.station_name\n        }), _jsxs(View, {\n          style: {\n            alignItems: \"center\",\n            flexDirection: \"row\"\n          },\n          children: [_jsxs(Text, {\n            style: {\n              fontSize: 16,\n              fontWeight: \"500\"\n            },\n            children: [studentIds[currentStudentIndex], \" -\"]\n          }), showCompetitorsStatus && _jsxs(Text, {\n            style: {\n              fontSize: 16,\n              fontWeight: \"500\",\n              marginLeft: 5\n            },\n            children: [studentfamilyname[currentStudentIndex], \" \", studentfirstname[currentStudentIndex]]\n          }), showMarkStatus && _jsxs(Text, {\n            style: {\n              fontSize: 16,\n              fontWeight: \"500\",\n              marginLeft: 5\n            },\n            children: [\"(\", getTotalPoints(), \")\"]\n          })]\n        })]\n      }), _jsx(FlatList, {\n        data: sections,\n        keyExtractor: function keyExtractor(item, index) {\n          return index.toString();\n        },\n        renderItem: function renderItem(_ref7) {\n          var item = _ref7.item;\n          return _jsx(QuestionList, {\n            section: item,\n            handleAnswerSelection: handleAnswerSelection,\n            selectedAnswers: selectedAnswers\n          });\n        },\n        contentContainerStyle: {\n          paddingBottom: Platform.OS === \"ios\" ? 30 : 65\n        },\n        showsVerticalScrollIndicator: false\n      })]\n    })]\n  });\n};\nexport default EvaluationProcess;\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: \"#111F51\"\n  },\n  header: {\n    height: 60,\n    backgroundColor: \"#111F51\",\n    paddingLeft: 40,\n    paddingRight: 40,\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    justifyContent: \"space-between\"\n  },\n  headerText: {\n    color: \"#fff\",\n    fontSize: 20,\n    fontWeight: \"500\",\n    marginLeft: 20\n  },\n  topicBox: {\n    width: \"100%\",\n    height: 55,\n    backgroundColor: \"#ffffff\",\n    borderRadius: 5,\n    justifyContent: \"center\",\n    paddingLeft: 10,\n    marginTop: 20\n  },\n  topicText: {\n    fontSize: 18\n  },\n  buttonContainer: {\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    width: \"35%\",\n    alignItems: \"center\"\n  },\n  button: {\n    width: \"45%\",\n    height: 40,\n    borderRadius: 20,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    alignSelf: \"center\",\n    flexDirection: \"row\"\n  },\n  buttonText: {\n    fontSize: 19,\n    fontWeight: \"600\",\n    color: \"#fff\",\n    marginRight: 10\n  },\n  loaderContainer: {\n    flex: 1,\n    justifyContent: \"center\",\n    alignItems: \"center\"\n  },\n  loaderText: {\n    marginTop: 10,\n    fontSize: 16,\n    color: \"#fff\"\n  },\n  headert: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    height: 70,\n    paddingLeft: 20,\n    paddingRight: 20,\n    backgroundColor: COLORS.primary,\n    justifyContent: \"space-between\"\n  },\n  titlet: {\n    color: COLORS.white,\n    fontSize: 20,\n    marginLeft: 10\n  }\n});","map":{"version":3,"names":["React","useState","useEffect","useRef","View","TouchableOpacity","StyleSheet","Text","StatusBar","SafeAreaView","FlatList","ActivityIndicator","Alert","Platform","ScrollView","AsyncStorage","useNavigation","useRoute","QuestionList","useTranslation","COLORS","Ionicons","FontAwesome","showError","showSuccess","jsx","_jsx","jsxs","_jsxs","EvaluationProcess","navigation","route","_useTranslation","t","_route$params","params","students","studentDi","studentId","map","student","id","studentIds","group","studentfamilyname","family_name","studentfirstname","first_name","_useState","findIndex","_useState2","_slicedToArray","currentStudentIndex","setCurrentStudentIndex","_useState3","_useState4","loading","setLoading","_useState5","data","detail","_useState6","evaluations","setEvaluations","_useState7","_useState8","loadingc","setLoadingc","_useState9","_useState10","loadingd","setLoadingd","_useState11","_useState12","selectedAnswers","setSelectedAnswers","_useState13","_useState14","showMarkStatus","setShowMarkStatus","_useState15","_useState16","showCompetitorsStatus","setShowCompetitorsStatus","loadDownloadedEvaluationData","loadStatus","loadSelectedAnswers","saveEvaluation","saveTotalScore","_ref","_asyncToGenerator","currentStudent","evaluationResults","getItem","JSON","parse","currentStudentAnswers","reduce","acc","answer","index","error","console","apply","arguments","_ref2","downloadedData","parsedData","getTotalPoints","totalPoints","questionSection","sections","question","questions","selectedAnswerId","questionnumber","selectedAnswer","answers","points","_ref3","showMarkData","showCompetitorsData","status","section","key","obj","comment","push","handleAnswerSelection","questionNumber","answerId","prevSelectedAnswers","updatedSelectedAnswers","_objectSpread","formatSelectedAnswers","questionNumbers","Object","keys","Number","sort","formattedAnswers","flatMap","formattedAnswersArray","log","_ref4","totalQuestions","count","length","Array","from","_","setItem","stringify","_ref5","totalScore","totalScores","handleNext","prevIndex","alert","handlePrevious","_ref6","prevStudent","prevStudentAnswers","style","height","backgroundColor","mainBlue","alignSelf","width","justifyContent","alignItems","children","size","color","styles","loaderText","flex","primary","headert","flexDirection","onPress","goBack","name","white","titlet","buttonContainer","button","showsVerticalScrollIndicator","keyboardShouldPersistTaps","contentContainerStyle","paddingLeft","paddingRight","borderRadius","AltBlue","marginTop","marginBottom","paddingTop","paddingBottom","fontSize","fontWeight","station_name","marginLeft","keyExtractor","item","toString","renderItem","_ref7","OS","create","container","header","headerText","topicBox","topicText","buttonText","marginRight","loaderContainer"],"sources":["/Users/lilkizarmie/Documents/GitHub/pixEcoe/v2/destop/src/screen/general/EvaluationProcess.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\nimport {\n  View,\n  TouchableOpacity,\n  StyleSheet,\n  Text,\n  StatusBar,\n  SafeAreaView,\n  FlatList,\n  ActivityIndicator,\n  Alert,\n  Platform,\n  ScrollView\n} from \"react-native\";\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\nimport { useNavigation, useRoute } from \"@react-navigation/native\";\nimport QuestionList from \"../../components/QuestionList\";\nimport { useTranslation } from \"react-i18next\";\nimport { COLORS } from \"../../constants/theme\";\nimport Ionicons from \"react-native-vector-icons/Ionicons\";\nimport FontAwesome from \"react-native-vector-icons/FontAwesome\";\nimport { showError, showSuccess } from \"../../utils/helperFunction\";\n\nconst EvaluationProcess = () => {\n  const navigation = useNavigation();\n  const route = useRoute();\n  const { t } = useTranslation();\n  const { students, studentDi } = route.params;\n\n  const studentId = students.map((student) => student.id);\n  const studentIds = students.map((student) => student.group);\n  const studentfamilyname = students.map((student) => student.family_name);\n  const studentfirstname = students.map((student) => student.first_name);\n  const [currentStudentIndex, setCurrentStudentIndex] = useState(\n    students.findIndex((student) => student.id === studentDi)\n  );\n  const [loading, setLoading] = useState(true);\n  const [evaluations, setEvaluations] = useState({ data: { detail: {} } });\n  const [loadingc, setLoadingc] = useState(false);\n  const [loadingd, setLoadingd] = useState(false);\n  const [selectedAnswers, setSelectedAnswers] = useState({});\n  const [showMarkStatus, setShowMarkStatus] = useState(false);\n  const [showCompetitorsStatus, setShowCompetitorsStatus] = useState(false);\n\n  useEffect(() => {\n    loadDownloadedEvaluationData();\n    loadStatus();\n    loadSelectedAnswers();\n  }, [currentStudentIndex]);\n\n  useEffect(() => {\n    saveEvaluation();\n    saveTotalScore();\n  }, [selectedAnswers]);\n\n  const loadSelectedAnswers = async () => {\n    try {\n      const currentStudent = studentId[currentStudentIndex];\n      let evaluationResults = await AsyncStorage.getItem(\"evaluationResults\");\n      evaluationResults = evaluationResults\n        ? JSON.parse(evaluationResults)\n        : {};\n      const currentStudentAnswers = evaluationResults[currentStudent] || [];\n      setSelectedAnswers(\n        currentStudentAnswers.reduce((acc, answer, index) => {\n          acc[index + 1] = answer;\n          return acc;\n        }, {})\n      );\n    } catch (error) {\n      console.error(\"Error loading selected answers:\", error);\n    }\n  };\n\n  const loadDownloadedEvaluationData = async () => {\n    try {\n      const downloadedData = await AsyncStorage.getItem(\n        \"downloadedEvaluationData\"\n      );\n      if (downloadedData) {\n        const parsedData = JSON.parse(downloadedData);\n        setEvaluations(parsedData);\n        // console.log(\"Downloaded Evaluation Data:\", parsedData);\n      }\n      setLoading(false);\n    } catch (error) {\n      console.error(\"Error loading evaluation data:\", error);\n      setLoading(false); \n      showError(t(\"alert:alert20\"));\n    }\n  };\n\n  const getTotalPoints = () => {\n    let totalPoints = 0;\n    for (const questionSection of sections) {\n      for (const question of questionSection.questions) {\n        const selectedAnswerId = selectedAnswers[question.questionnumber];\n        if (selectedAnswerId) {\n          const selectedAnswer = question.answers[selectedAnswerId];\n          if (selectedAnswer) {\n            totalPoints += selectedAnswer.points;\n          }\n        }\n      }\n    }\n    return totalPoints;\n  };\n\n  const loadStatus = async () => {\n    const showMarkData = await AsyncStorage.getItem(\"showmark\");\n    const showCompetitorsData = await AsyncStorage.getItem(\"showcompetitors\");\n\n    if (showMarkData) {\n      setShowMarkStatus(JSON.parse(showMarkData).status);\n    }\n    if (showCompetitorsData) {\n      setShowCompetitorsStatus(JSON.parse(showCompetitorsData).status);\n    }\n  };\n\n  const detail =\n    evaluations.data && evaluations.data.detail ? evaluations.data.detail : {};\n\n  const sections = [];\n\n  let section = null;\n\n  for (const key in detail) {\n    const obj = detail[key];\n    const comment = obj.comment;\n\n    if (comment) {\n      if (section) {\n        sections.push(section);\n      }\n      section = {\n        section: comment,\n        questions: [],\n      };\n    } else if (obj.questionnumber) {\n      const question = {\n        questionnumber: obj.questionnumber,\n        answers: obj.answers || [],\n      };\n      section.questions.push(question);\n    }\n  }\n  if (section) {\n    sections.push(section);\n  }\n\n  // console.log(JSON.stringify(sections, null, 2));\n\n  const handleAnswerSelection = (questionNumber, answerId) => {\n    setSelectedAnswers((prevSelectedAnswers) => {\n      const updatedSelectedAnswers = { ...prevSelectedAnswers };\n      if (updatedSelectedAnswers[questionNumber] === answerId) {\n        delete updatedSelectedAnswers[questionNumber];\n      } else {\n        updatedSelectedAnswers[questionNumber] = answerId;\n      }\n      return updatedSelectedAnswers;\n    });\n  };\n\n  const formatSelectedAnswers = (selectedAnswers) => {\n    const questionNumbers = Object.keys(selectedAnswers).map(Number).sort();\n    const formattedAnswers = questionNumbers.flatMap((questionNumber) => [\n      selectedAnswers[questionNumber],\n    ]);\n\n    return formattedAnswers;\n  };\n\n  const formattedAnswersArray = formatSelectedAnswers(selectedAnswers);\n\n  console.log(\"Formatted selected Answers:\", formattedAnswersArray);\n\n  const saveEvaluation = async () => {\n    try {\n      const currentStudent = studentId[currentStudentIndex];\n      const totalQuestions = sections.reduce(\n        (count, section) => count + section.questions.length,\n        0\n      );\n\n      const formattedAnswers = Array.from(\n        { length: totalQuestions },\n        (_, index) => {\n          const questionNumber = index + 1;\n          return selectedAnswers[questionNumber] || \"\"; // Use selected answer if available, otherwise use empty string\n        }\n      );\n\n      let evaluationResults = await AsyncStorage.getItem(\"evaluationResults\");\n      evaluationResults = evaluationResults\n        ? JSON.parse(evaluationResults)\n        : {};\n      evaluationResults[currentStudent] = formattedAnswers;\n\n      await AsyncStorage.setItem(\n        \"evaluationResults\",\n        JSON.stringify(evaluationResults)\n      );\n\n      console.log(\"Updated Evaluation Results:\", evaluationResults);\n    } catch (error) {\n      console.error(\"Error saving evaluation:\", error);\n      showError(t(\"alert:alert4\"));\n    }\n  };\n\n  const saveTotalScore = async () => {\n    try {\n      const currentStudent = studentId[currentStudentIndex];\n      const totalScore = getTotalPoints();\n      let totalScores = await AsyncStorage.getItem(\"totalScores\");\n      totalScores = totalScores ? JSON.parse(totalScores) : {};\n      totalScores[currentStudent] = totalScore;\n      await AsyncStorage.setItem(\"totalScores\", JSON.stringify(totalScores));\n      console.log(\"Total Scores:\", totalScores);\n    } catch (error) {\n      console.error(\"Error saving total score:\", error);\n    }\n  };\n\n  const handleNext = () => {\n    setLoadingc(true);\n    try {\n      setSelectedAnswers({});\n      setCurrentStudentIndex((prevIndex) => (prevIndex + 1) % studentId.length);\n      Alert.alert(\"Success\", \"Evaluation saved\");\n    } catch (error) {\n      console.error(\"Error saving evaluation:\", error);\n      showError(t(\"alert:alert4\"));\n    } finally {\n      setLoadingc(false);\n    }\n  };\n\n  const handlePrevious = async () => {\n    setLoadingd(true);\n    try {\n      const prevIndex =\n        (currentStudentIndex - 1 + studentId.length) % studentId.length;\n      setCurrentStudentIndex(prevIndex);\n      const prevStudent = studentId[prevIndex];\n      let evaluationResults = await AsyncStorage.getItem(\"evaluationResults\");\n      evaluationResults = evaluationResults\n        ? JSON.parse(evaluationResults)\n        : {};\n      const prevStudentAnswers = evaluationResults[prevStudent] || [];\n      setSelectedAnswers(\n        prevStudentAnswers.reduce((acc, answer, index) => {\n          acc[index + 1] = answer;\n          return acc;\n        }, {})\n      );\n      showSuccess(t(\"alert:alert23\"));\n    } catch (error) {\n      // console.error(\"Error loading previous evaluation:\", error);\n      showError(t(\"alert:alert4\"));\n    } finally {\n      setLoadingd(false);\n    }\n  };\n\n  if (loading) {\n    return (\n      <View\n        style={{\n          height: \"100%\",\n          backgroundColor: COLORS.mainBlue,\n          alignSelf: \"center\",\n          width: \"100%\",\n          justifyContent: \"center\",\n          alignItems: \"center\",\n        }}\n      >\n        <ActivityIndicator size=\"large\" color=\"#FFFFFF\" />\n        <Text style={styles.loaderText}>{t(\"common:loading\")}</Text>\n      </View>\n    );\n  }\n\n  return (\n    <View style={{ flex: 1 }}>\n      {/* top bar and page title */}\n      <View>\n        <StatusBar backgroundColor={COLORS.primary} />\n        <View style={[styles.headert]}>\n          {/* Back Icon */}\n\n          <View style={{ flexDirection: \"row\" }}>\n            <TouchableOpacity onPress={() => navigation.goBack()}>\n              <Ionicons name={\"arrow-back\"} size={30} color={COLORS.white} />\n            </TouchableOpacity>\n            <Text style={styles.titlet}>{t(\"common:evaproce\")}</Text>\n          </View>\n\n          <View style={styles.buttonContainer}>\n            <TouchableOpacity\n              style={styles.button}\n              onPress={handlePrevious}\n              // disabled={currentStudentIndex === 0 || loadingd}\n            >\n              {loadingd ? (\n                <ActivityIndicator size=\"small\" color=\"#fff\" />\n              ) : (\n                <FontAwesome name=\"arrow-left\" size={25} color=\"#fff\" />\n              )}\n            </TouchableOpacity>\n\n            <TouchableOpacity\n              style={styles.button}\n              onPress={handleNext}\n              // disabled={currentStudentIndex === studentId.length - 1 || loadingc}\n            >\n              {loadingc ? (\n                <ActivityIndicator size=\"small\" color=\"#fff\" />\n              ) : (\n                <FontAwesome name=\"arrow-right\" size={25} color=\"#fff\" />\n              )}\n            </TouchableOpacity>\n          </View>\n        </View>\n      </View>\n      <ScrollView\n        showsVerticalScrollIndicator={false}\n        keyboardShouldPersistTaps=\"handled\"\n        contentContainerStyle={{\n          paddingLeft: 20,\n          paddingRight: 20,\n          flex: 1,\n          backgroundColor: COLORS.mainBlue,\n        }}\n      >\n        <View\n          style={{\n            justifyContent: \"space-between\",\n            borderRadius: 10,\n            backgroundColor: COLORS.AltBlue,\n            paddingLeft: 10,\n            paddingRight: 10,\n            marginTop: 10,\n            marginBottom:5,\n            width: \"100%\",\n            height: 90,\n            paddingTop: 15,\n            paddingBottom: 15,\n          }}\n        >\n          \n          <Text style={{ fontSize: 16, fontWeight: \"500\" }}>\n            {evaluations.data.station_name}\n          </Text>\n          <View style={{ alignItems: \"center\", flexDirection: \"row\" }}>\n            <Text style={{ fontSize: 16, fontWeight: \"500\" }}>\n              {studentIds[currentStudentIndex]} -\n            </Text>\n            {showCompetitorsStatus && (\n              <Text\n                style={{ fontSize: 16, fontWeight: \"500\", marginLeft: 5 }}\n              >\n                {studentfamilyname[currentStudentIndex]}{\" \"}\n                {studentfirstname[currentStudentIndex]}\n              </Text>\n            )}\n            {showMarkStatus && (\n              <Text\n                style={{ fontSize: 16, fontWeight: \"500\", marginLeft: 5 }}\n              >\n                ({getTotalPoints()})\n              </Text>\n            )}\n          </View>\n          \n        </View>\n        {/* <Text>{formattedAnswersArray}</Text> */}\n        <FlatList\n          data={sections}\n          keyExtractor={(item, index) => index.toString()}\n          renderItem={({ item }) => (\n            <QuestionList\n              section={item}\n              handleAnswerSelection={handleAnswerSelection}\n              selectedAnswers={selectedAnswers}\n            />\n          )}\n          contentContainerStyle={{\n            paddingBottom: Platform.OS === \"ios\" ? 30 : 65,\n          }}\n          showsVerticalScrollIndicator={false}\n        />\n      </ScrollView>\n    </View>\n  );\n};\n\nexport default EvaluationProcess;\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: \"#111F51\",\n  },\n  header: {\n    height: 60,\n    backgroundColor: \"#111F51\",\n    paddingLeft: 40,\n    paddingRight: 40,\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    justifyContent: \"space-between\",\n  },\n  headerText: {\n    color: \"#fff\",\n    fontSize: 20,\n    fontWeight: \"500\",\n    marginLeft: 20,\n  },\n  topicBox: {\n    width: \"100%\",\n    height: 55,\n    backgroundColor: \"#ffffff\",\n    borderRadius: 5,\n    justifyContent: \"center\",\n    paddingLeft: 10,\n    marginTop: 20,\n  },\n  topicText: {\n    fontSize: 18,\n  },\n  buttonContainer: {\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    width: \"35%\",\n    alignItems: \"center\",\n  },\n  button: {\n    width: \"45%\",\n    height: 40,\n    borderRadius: 20,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    alignSelf: \"center\",\n    flexDirection: \"row\",\n  },\n  buttonText: {\n    fontSize: 19,\n    fontWeight: \"600\",\n    color: \"#fff\",\n    marginRight: 10,\n  },\n  loaderContainer: {\n    flex: 1,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n  },\n  loaderText: {\n    marginTop: 10,\n    fontSize: 16,\n    color: \"#fff\",\n  },\n  headert: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    height: 70,\n    paddingLeft: 20,\n    paddingRight: 20,\n    backgroundColor: COLORS.primary,\n    justifyContent: \"space-between\",\n  },\n  titlet: {\n    color: COLORS.white,\n    fontSize: 20,\n    marginLeft: 10,\n  },\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}